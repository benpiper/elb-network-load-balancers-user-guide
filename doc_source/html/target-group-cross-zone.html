<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>target-group-cross-zone</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
</head>
<body>
<h1 id="cross-zone-load-balancing-for-target-groups">Cross-zone load balancing for target groups<a name="target-group-cross-zone"></a></h1>
<p>The nodes for your load balancer distribute requests from clients to registered targets. When cross-zone load balancing is on, each load balancer node distributes traffic across the registered targets in all registered Availability Zones. When cross-zone load balancing is off, each load balancer node distributes traffic across only the registered targets in its Availability Zone. This could be used if zonal failure domains are preferred over regional, ensuring that a healthy zone isnâ€™t impacted by an unhealthy zone, or for overall latency improvements.</p>
<p>With Network Load Balancers, cross-zone load balancing is off by default at the load balancer level, but you can turn it on at any time. For target groups, the default is to use the load balancer setting, but you can override the default by explicitly turning cross-zone load balancing on or off at the target group level.</p>
<p><strong>Considerations</strong> + The target group setting determines the load balancing behavior for the target group. For example, if cross-zone load balancing is enabled at the load balancer level and disabled at the target group level, traffic sent to the target group is not routed across Availability Zones. + When cross-zone load balancing is off, ensure that you have enough target capacity in each of the load balancer Availability Zones, so that each zone can serve its associated workload. + When cross-zone load balancing is off, ensure that all target groups participate in the same Availability Zones. An empty Availability Zone is considered unhealthy.</p>
<h2 id="modify-cross-zone-load-balancing-for-a-load-balancer">Modify cross-zone load balancing for a load balancer<a name="modify-load-balancer-cross-zone"></a></h2>
<p>You can turn cross-zone load balancing on or off at the load balancer level at any time.</p>
<p><strong>To modify cross-zone load balancing for a load balancer using the console</strong></p>
<ol type="1">
<li><p>Open the Amazon EC2 console at <a href="https://console.aws.amazon.com/ec2/">https://console.aws.amazon.com/ec2/</a>.</p></li>
<li><p>In the navigation pane, under <strong>LOAD BALANCING</strong>, choose <strong>Load Balancers</strong>.</p></li>
<li><p>Select the name of the load balancer to open its details page.</p></li>
<li><p>On the <strong>Attributes</strong> tab, choose <strong>Edit</strong>.</p></li>
<li><p>On the <strong>Edit load balancer attributes</strong> page, turn <strong>Cross-zone load balancing</strong> on or off.</p></li>
<li><p>Choose <strong>Save changes</strong>.</p></li>
</ol>
<p><strong>To modify cross-zone load balancing for your load balancer using the AWS CLI</strong><br />
Use the <a href="https://docs.aws.amazon.com/cli/latest/reference/elbv2/modify-load-balancer-attributes.html">modify-load-balancer-attributes</a> command with the <code>load_balancing.cross_zone.enabled</code> attribute.</p>
<h2 id="modify-cross-zone-load-balancing-for-a-target-group">Modify cross-zone load balancing for a target group<a name="modify-target-group-cross-zone"></a></h2>
<p>You can turn cross-zone load balancing on or off at the target group level at any time. The cross-zone load balancing setting at the target group level overrides the setting at the load balancer level.</p>
<p><strong>To modify cross-zone load balancing for a target group using the console</strong></p>
<ol type="1">
<li><p>Open the Amazon EC2 console at <a href="https://console.aws.amazon.com/ec2/">https://console.aws.amazon.com/ec2/</a>.</p></li>
<li><p>On the navigation pane, under <strong>Load Balancing</strong>, select <strong>Target Groups</strong>.</p></li>
<li><p>Select the name of the target group to open its details page.</p></li>
<li><p>On the <strong>Attributes</strong> tab, choose <strong>Edit</strong>.</p></li>
<li><p>On the <strong>Edit target group attributes</strong> page, select <strong>On</strong> for <strong>Cross-zone load balancing</strong>.</p></li>
<li><p>Choose <strong>Save changes</strong>.</p></li>
</ol>
<p><strong>To modify cross-zone load balancing for a target group using the AWS CLI</strong><br />
Use the <a href="https://docs.aws.amazon.com/cli/latest/reference/elbv2/modify-target-group-attributes.html">modify-target-group-attributes</a> command with the <code>load_balancing.cross_zone.enabled</code> attribute.</p>
</body>
</html>
